"use strict";(self.webpackChunkserp_front=self.webpackChunkserp_front||[]).push([[589],{4478:function(e,n,t){var i=t(184);n.Z=function(e){return(0,i.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",paddingBottom:15},children:e.children})}},6589:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var i=t(8214),r=t(5861),o=t(885),s=t(2791),a=t(4554),d=t(6151),l=t(890),x=t(2419),c=t(656),p=t(4478),u=t(5403),h=t(9012),f=t(292),m=t(3400),g=t(7163),j=t(184),Z=function(e){var n=(0,s.useState)(""),t=(0,o.Z)(n,2),i=t[0],r=t[1];return(0,s.useEffect)((function(){e.setSearchValue(i)}),[i]),(0,j.jsx)(a.Z,{sx:{mr:"10px"},children:(0,j.jsx)(h.Z,{row:!0,children:(0,j.jsx)(f.Z,{sx:{width:"264px",height:"37px",p:"9px",display:"flex",alignItems:"center",border:"1px solid #E6E7E9",borderRadius:"4px",fontWeight:400,fontSize:"13px",background:"#FFFFFF",borderTopRightRadius:"0px",borderBottomRightRadius:"0px","& .MuiInputBase-input":{height:"20px",fontSize:"13px",fontWeight:400}},value:i,onChange:function(e){return r(e.target.value)},disableUnderline:!0,placeholder:e.placeholder,startAdornment:(0,j.jsx)(u.Z,{sx:{width:"18.25px",height:"18.25px",margin:"3.5px",color:"rgba(24, 24, 25, 0.42)"}}),endAdornment:i&&(0,j.jsx)(m.Z,{onClick:function(){return r("")},sx:{padding:"4px"},children:(0,j.jsx)(g.Z,{sx:{width:"15px",height:"15px",color:"rgba(24, 24, 25, 0.42)",padding:"0px"}})})})})})},y=t(9836),v=t(3382),b=t(3994),w=t(5855),C=t(3044),S=t(1286),F=t(1413),k=function(e){return(0,j.jsx)(a.Z,{sx:(0,F.Z)({border:"1px solid #E6E7E9",borderRadius:"10px",height:e.height,maxHeight:707,background:"#FFFFFF",width:"100%",minWidth:440,overflow:"auto"},e.sx),children:e.children})},z=function(e){var n=e.companys,t=e.setSelectedCompany,i=e.onEditClick;return 0==n.length?(0,j.jsx)(k,{sx:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:400,fontSize:"15px",color:"#919294",height:"100%"},children:"\ub4f1\ub85d\ub41c \uc5c5\uccb4\uac00 \uc5c5\uc2b5\ub2c8\ub2e4."}):(0,j.jsx)(k,{sx:{mr:"10px","&::-webkit-scrollbar":{width:0}},children:(0,j.jsx)(y.Z,{children:(0,j.jsx)(v.Z,{children:n.map((function(e,n){return(0,j.jsx)(w.Z,{children:(0,j.jsx)(b.Z,{scope:"row",sx:{cursor:"pointer","&:hover":{backgroundColor:"basis.dark"}},onClick:function(){t(e.idx)},children:(0,j.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,j.jsx)(a.Z,{children:(0,j.jsx)(C.Z,{variant:"rounded",sx:{mr:"10px"}})}),(0,j.jsxs)(a.Z,{sx:{flexGrow:1},children:[(0,j.jsx)(l.Z,{sx:{fontWeight:600,fontSize:"13px",color:"#3855B3",mb:.5},children:e.company_name}),(0,j.jsxs)(l.Z,{sx:{fontWeight:500,fontSize:"12px",color:"rgba(24, 24, 25, 0.42)"},children:["\ub4f1\ub85d\uc77c ",e.createdAt]})]}),(0,j.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,j.jsx)(m.Z,{sx:{padding:"0px"},onClick:function(n){n.preventDefault(),i(e.idx)},children:(0,j.jsx)(S.Z,{sx:{color:"#919294"}})})})]})})},n)}))})})})},W=t(8234),E=t(9731),R=t(699),_=function(e){var n=e.data,t=(0,R.useQueryClient)(),i=(0,R.useMutation)((function(e){return E.Z.get("/companys/info/createdAt",{params:e})}),{onSuccess:function(){t.invalidateQueries("companys")}});return(0,j.jsxs)(a.Z,{sx:{margin:"20px",display:"flex",color:"#919294",fontWeight:600,fontSize:"12px",lineHeight:"140%",justifyContent:"space-between"},fullwidth:!0,children:[(0,j.jsx)(C.Z,{sx:{height:"64px",width:"64px"},variant:"rounded"}),(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(l.Z,{sx:{mb:"7px",fontSize:"12px",fontWeight:600},children:"\uc5c5\uccb4 \ub4f1\ub85d\uc77c"}),(0,j.jsx)(W.Z,{variant:"standard",id:"date",type:"date",value:n.createdAt,onChange:function(e){i.mutate({idx:n.idx,createdAt:e.target.value})}})]})]})},I=function(e){var n=e.data,t=[{name:"\uc5c5\uccb4\uba85",data:n.company_name},{name:"\ub300\ud45c\uc790\uba85",data:n.represent},{name:"\uc0ac\uc5c5\uc790 \ub4f1\ub85d\ubc88\ud638",data:n.corporate_number},{name:"\uc885\ubaa9",data:n.description},{name:"\ub2f4\ub2f9\uc790\uba85",data:n.director},{name:"\ub2f4\ub2f9\uc790 \uc9c1\ud568",data:n.position},{name:"\uc5f0\ub77d\ucc98",data:n.phone_number},{name:"\uc774\uba54\uc77c",data:n.email},{name:"\uc0ac\uc5c5\uc7a5 \uc18c\uc7ac\uc9c0",data:n.address}],i={fontWeight:600,color:"#3855B3"};return(0,j.jsx)(a.Z,{sx:{color:"#919294",fontWeight:400,fontSize:"12px",lineHeight:"140%",height:"210px"},fullwidth:!0,children:t.map((function(e,n){return(0,j.jsxs)(a.Z,{sx:{display:"flex",mb:"5px",ml:"20px"},children:[(0,j.jsx)(a.Z,{sx:{width:"150px"},children:e.name}),(0,j.jsx)(a.Z,{sx:0===n?(0,F.Z)({width:"100%"},i):{width:"100%"},children:e.data})]},n)}))})},B=t(2271),M=t(8029),H=function(e){var n=e.data,t=(0,s.useRef)(),i=(0,s.useRef)(),r=(0,R.useQueryClient)(),o=(0,R.useMutation)((function(e){return E.Z.post("/companys/memo/append",e)}),{onSuccess:function(){t.current.value="",r.invalidateQueries(["companys"])}}),x=(0,R.useMutation)((function(e){return E.Z.get("/companys/memo/destroy",{params:e})}),{onSuccess:function(){r.invalidateQueries(["companys"])}});return(0,s.useEffect)((function(){i.current.scrollTo(0,i.current.scrollHeight)})),(0,j.jsxs)(a.Z,{fullwidth:!0,children:[(0,j.jsx)(a.Z,{ref:i,sx:{marginTop:"8px",display:"flex",flexDirection:"column",alignItems:"center",height:"170px",mx:"20px",maxHeight:"100%",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:0}},children:n.memos.map((function(e,n){return(0,j.jsxs)(a.Z,{sx:{background:"#F8F8FA",width:"92%",padding:"16px",borderRadius:"8px",mb:"5px"},children:[(0,j.jsxs)(l.Z,{variant:"subtitle1",sx:{fontWeight:400,fontSize:"12px",lineHeight:"24px",color:"#919294",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.createdAt.split(" ")[0],(0,j.jsx)(m.Z,{sx:{padding:"0px"},onClick:function(){x.mutate({idx:e.idx})},children:(0,j.jsx)(B.Z,{})})]}),(0,j.jsx)(l.Z,{sx:{fontWeight:500,fontSize:"12px",lineHeight:"24px",color:"#000000"},children:e.content})]},n)}))}),(0,j.jsx)(a.Z,{sx:{marginTop:"31px",display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"20px",marginRight:"20px"},children:(0,j.jsx)(M.Z,{rows:4,sx:{height:"120px",fontSize:"13px",fontHeight:"24px",fontWeight:"400px",justifyContent:"flex-start",display:"flex"},placeholder:"\uc5c5\uccb4 \uc774\uc288\ub97c \uba54\ubaa8\ud574\uc8fc\uc138\uc694.",fullWidth:!0,multiline:!0,inputRef:t})}),(0,j.jsx)(a.Z,{sx:{marginTop:"10px",marginBottom:"20px",marginRight:"20px",float:"right"},children:(0,j.jsx)(d.Z,{sx:{background:"#3855B3",fontWeight:600,color:"#FFFFFF",width:"78px",height:"37px",borderRadius:"4px",display:"flex",flexDirection:"row",fontSize:"13px",lineHeight:"140%",padding:"9.5px"},variant:"contained",onClick:function(){t.current.value&&o.mutate({content:t.current.value,company_idx:n.idx})},children:"\uba54\ubaa8\ub4f1\ub85d"})})]})},A=function(e){var n=e.detailsInfo;return null===n?(0,j.jsx)(k,{sx:{ml:10,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:400,fontSize:"15px",color:"#919294"},children:"\uc5c5\uccb4\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}):(0,j.jsxs)(k,{sx:{ml:10},children:[(0,j.jsx)(_,{data:n}),(0,j.jsx)(I,{data:n}),(0,j.jsx)(H,{data:{idx:n.idx,memos:n.company_memos}})]})},Q=t(5646),D=t(9658),T=function(e){return(0,j.jsx)(Q.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.open,onClose:e.onClose,autoHideDuration:2e3,sx:{width:"100%",height:48,margin:"10px"},children:(0,j.jsx)(D.Z,{severity:"success",variant:"filled",sx:{background:"#66BB6A",width:"100%"},children:e.message})})},O=function(e){return(0,j.jsx)(Q.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.open,onClose:e.onClose,autoHideDuration:6e4,sx:{width:"100%",height:48,margin:"10px"},children:(0,j.jsx)(D.Z,{onClose:e.onClose,severity:"error",sx:{width:"100%"},variant:"filled",action:(0,j.jsx)(a.Z,{children:(0,j.jsx)(d.Z,{color:"inherit",size:"small",onClick:e.onbtnClick,children:e.btn})}),children:e.message})})},V={fontWeight:600,fontSize:"13px",mb:"10px"},L={padding:"11px",fontSize:"13px",fontWeight:500,width:"238px",backgroundColor:"#fff"},P=function(e){var n=e.data,t=function(n){z(n),b(!0),e.setModalOpen(!1)},i=(0,R.useQueryClient)(),r=(0,R.useMutation)((function(e){return E.Z.post("/companys/append",e)}),{onSuccess:function(){i.invalidateQueries("companys"),t("\ucd94\uac00 \uc644\ub8cc!")}}),c=(0,R.useMutation)((function(e){return E.Z.post("/companys/update",e)}),{onSuccess:function(){i.invalidateQueries("companys"),t("\uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc!")}}),p=(0,R.useMutation)((function(e){return E.Z.get("/companys/destroy",{params:e})}),{onSuccess:function(){i.invalidateQueries("companys"),t("\uc0ad\uc81c \uc644\ub8cc!")}}),u=(0,s.useRef)([]),h=(0,s.useState)(!1),f=(0,o.Z)(h,2),m=f[0],g=f[1],Z=(0,s.useState)(!1),y=(0,o.Z)(Z,2),v=y[0],b=y[1],w=(0,s.useState)(""),S=(0,o.Z)(w,2),k=S[0],z=S[1],_=[{name:"\uc5c5\uccb4\uba85",placeholder:"\uc5c5\uccb4\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.company_name},{name:"\ub300\ud45c\uc790\uba85",placeholder:"\ub300\ud45c\uc790\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.represent},{name:"\uc0ac\uc5c5\uc790 \ub4f1\ub85d\ubc88\ud638",placeholder:"'-'\uc5c6\uc774 \uc0ac\uc5c5\uc790 \ub4f1\ub85d\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.corporate_number},{name:"\uc885\ubaa9",placeholder:"\uc0ac\uc5c5\uc7a5 \uc885\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.description},{name:"\ub2f4\ub2f9\uc790\uba85",placeholder:"'-'\uc5c6\uc774 \uc0ac\uc5c5\uc790 \ub4f1\ub85d\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.director},{name:"\ub2f4\ub2f9\uc790 \uc9c1\ud568",placeholder:"\uc0ac\uc5c5\uc7a5 \uc885\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.position},{name:"\uc5f0\ub77d\ucc98",placeholder:"'-'\uc5c6\uc774 \uc5f0\ub77d\ucc98\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.phone_number},{name:"\uc774\uba54\uc77c",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.email},{name:"\uc0ac\uc5c5\uc7a5 \uc18c\uc7ac\uc9c0",placeholder:"\uc0ac\uc5c5\uc7a5 \uc18c\uc7ac\uc9c0\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:n.address}];return(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(O,{message:"\uc5c5\uccb4\ub294 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\uac00 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",btn:"\uc0ad\uc81c",open:m,onClose:function(){g(!1)},onbtnClick:function(){g(!1),p.mutate({idx:n.idx})}}),(0,j.jsx)(T,{message:k,open:v,onClose:function(){b(!1)}}),(0,j.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",height:"71px",ml:"20px",fontWeight:600,fontSize:"18px"},children:n?"\uc5c5\uccb4\uc815\ubcf4 \uc218\uc815":"\uc5c5\uccb4\ub4f1\ub85d"}),(0,j.jsxs)(a.Z,{sx:{flexDirection:"column",justifyContent:"center",height:"505px",background:"#F8F8FA",borderTop:"1px solid #E6E7E9",borderBottom:"1px solid #E6E7E9",padding:"10px"},children:[(0,j.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",height:"72px"},children:[(0,j.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",ml:"15px"},children:(0,j.jsx)(C.Z,{sx:{border:"1.5px dashed #E6E7E9",background:"#FFFFFF"},children:(0,j.jsx)(x.Z,{sx:{color:"#3855B3"}})})}),(0,j.jsx)(d.Z,{variant:"contained",sx:{borderRadius:"4px",padding:"7px 12px",fontWeight:600,fontSize:"13px",width:"96px",height:"32px",mx:"16px"},children:"\uc774\ubbf8\uc9c0 \ub4f1\ub85d"}),(0,j.jsx)(d.Z,{sx:{width:"48px",borderRadius:"4px",padding:"0px 0px",fontWeight:600,fontSize:"13px",color:"#000000",height:"32px",border:"1px solid #E6E7E9","& .MuiBox-root":{width:"48px"}},children:"\uc0ad\uc81c"})]}),function(){for(var e=[],t=function(t){e.push((0,j.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-evenly",width:"100%",mb:"16px"},children:[(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(l.Z,{sx:V,children:_[t].name}),(0,j.jsx)(W.Z,{inputProps:{style:L},placeholder:_[t].placeholder,defaultValue:n?_[t].value:"",inputRef:function(e){return u.current[t]=e}})]}),(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(l.Z,{sx:V,children:_[t+1].name}),(0,j.jsx)(W.Z,{inputProps:{style:L},placeholder:_[t+1].placeholder,defaultValue:n?_[t+1].value:"",inputRef:function(e){return u.current[t+1]=e}})]})]},t))},i=0;i<_.length-1;i+=2)t(i);return e}(),(0,j.jsxs)(a.Z,{sx:{px:"13px"},children:[(0,j.jsx)(l.Z,{sx:V,children:_[8].name}),(0,j.jsx)(W.Z,{inputProps:{style:{padding:"11px",fontSize:"13px",fontWeight:500,width:"100%",backgroundColor:"#fff"}},placeholder:_[8].placeholder,inputRef:function(e){return u.current[8]=e},defaultValue:n?_[8].value:"",sx:{width:"100%"}})]})]}),(0,j.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",height:"72px"},children:[(0,j.jsx)(a.Z,{children:n&&(0,j.jsx)(d.Z,{sx:{borderRadius:"4px",padding:"11px 12px",fontWeight:500,fontSize:"14px",color:"#DC2626",width:"67px",height:"40px",border:"1px solid #DC2626",ml:"16px"},onClick:function(){g(!0)},children:"\uc0ad\uc81c"})}),(0,j.jsxs)(a.Z,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[(0,j.jsx)(d.Z,{sx:{borderRadius:"4px",padding:"11px 12px",fontWeight:500,fontSize:"14px",color:"#000000",width:"67px",height:"40px",border:"1px solid #E6E7E9"},onClick:function(){e.setModalOpen(!1)},children:"\ucde8\uc18c"}),(0,j.jsx)(d.Z,{variant:"contained",sx:{borderRadius:"4px",padding:"11px 12px",fontWeight:500,fontSize:"14px",color:"#FFFFFF",width:"67px",height:"40px",mx:"16px"},onClick:function(){var e={company_name:u.current[0].value,represent:u.current[1].value,corporate_number:u.current[2].value,description:u.current[3].value,position:u.current[4].value,director:u.current[5].value,phone_number:u.current[6].value,email:u.current[7].value,address:u.current[8].value},t=!1;for(var i in e)""===e[i]&&(t=!0);t||(n?c.mutate({info:(0,F.Z)({idx:n.idx},e)}):r.mutate({info:(0,F.Z)((0,F.Z)({},e),{},{company_type:"\ubc1c\uc8fc\ucc98"})}))},children:"\ud655\uc778"})]})]})]})},G=t(2409),U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:"580px",height:"669px",borderRadius:"8px",backgroundColor:"#fff"},X=function(){var e=(0,s.useState)(""),n=(0,o.Z)(e,2),t=n[0],u=n[1],h=(0,s.useState)(-1),f=(0,o.Z)(h,2),m=f[0],g=f[1],y=(0,s.useState)(!1),v=(0,o.Z)(y,2),b=v[0],w=v[1],C=(0,s.useState)(),S=(0,o.Z)(C,2),F=S[0],k=S[1],W=["company_name","represent","corporate_number","description","director","position","email","phone_number","address"],_=(0,R.useQuery)(["companys"],(0,r.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.post("/companys/info",{company_type:"\ubc1c\uc8fc\ucc98"});case 2:return n=e.sent,t=n.data,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))),I=function(){return(0,G.Lu)(_.data,t,{keys:W})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.Z,{children:"\uc5c5\uccb4\uc815\ubcf4"}),_.isLoading?(0,j.jsx)("div",{children:" Loading "}):(0,j.jsxs)(a.Z,{sx:{height:"100%"},children:[(0,j.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Z,{placeholder:"\uc5c5\uccb4\uba85, \uc5f0\ub77d\ucc98 \ub4f1 \uac80\uc0c9",setSearchValue:u}),(0,j.jsx)(d.Z,{variant:"contained",sx:{fontWeight:600,width:"94px",height:"37px",padding:"9.5px 0px",fontSize:"13px","& .MuiButton-startIcon":{margin:"0px"}},startIcon:(0,j.jsx)(x.Z,{}),onClick:function(){k(!1),w(!0)},children:"\uc5c5\uccb4\ub4f1\ub85d"})]}),(0,j.jsxs)(l.Z,{sx:{fontWeight:600,fontSize:"12px",mt:"19px",mb:"10px"},children:["\ucd1d \uc5c5\uccb4(",I().length,")"]}),(0,j.jsxs)(a.Z,{sx:{display:"flex",height:"100%"},children:[(0,j.jsx)(z,{companys:I(),setSelectedCompany:g,onEditClick:function(e){k(_.data.find((function(n){return n.idx===e}))),w(!0),g(e)}}),(0,j.jsx)(A,{detailsInfo:m<0?null:_.data.find((function(e){return e.idx===m}))})]}),(0,j.jsx)(c.Z,{open:b,onClose:function(){w(!1)},children:(0,j.jsx)(a.Z,{sx:U,children:(0,j.jsx)(P,{data:F,setModalOpen:w})})})]})]})}}}]);
//# sourceMappingURL=589.5ea90100.chunk.js.map