{"ast":null,"code":"import _regeneratorRuntime from\"/home/song/serp_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/song/serp_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/song/serp_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{useState}from\"react\";import{createTheme,ThemeProvider}from\"@mui/material/styles\";import{FormHelperText,Button,CssBaseline,TextField,Box,Container,Alert,Snackbar}from\"@mui/material\";import axios from\"../../utils/axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theme=createTheme();var SignIn=function SignIn(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),emailError=_useState2[0],setEmailError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loginError=_useState4[0],setloginError=_useState4[1];var navigate=useNavigate();var onhandlePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/account/signIn\",{email:email}).then(function(res){localStorage.setItem('Authorization',res.headers.authorization);navigate('/memu');}).catch(function(){setloginError(true);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onhandlePost(_x){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){event.preventDefault();// const email = new FormData(event.currentTarget);\n// const emailRegex =\n//   /([\\w-.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([\\w-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\n// if (!emailRegex.test(email))\n//   setEmailError(\"올바른 이메일 형식이 아닙니다.\");\n// else setEmailError(\"\");\n// if (emailRegex.test(email)) {\n//   onhandlePost(email);\n// }.\nonhandlePost('levin.song@sothecode.com');};var handleClose=function handleClose(reason){if(reason===\"clickaway\"){return;}setloginError(false);};return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"center\"},open:loginError,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",sx:{width:\"100%\"},children:\"\\uC0AC\\uC6A9\\uC790\\uB4F1\\uB85D\\uC774 \\uB418\\uC5B4\\uC788\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uAD00\\uB9AC\\uC790\\uC5D0\\uAC8C \\uBB38\\uC758\\uD574\\uC8FC\\uC138\\uC694.\"})}),/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xm\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Box,{sx:{marginTop:40,marginBottom:50,display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1,width:500},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(TextField,{className:\"login_email\",margin:\"normal\",fullWidth:true,required:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,error:emailError!==\"\"||false}),/*#__PURE__*/_jsx(FormHelperText,{style:{color:\"#D32F2F\"},children:emailError}),/*#__PURE__*/_jsx(Button,{fullWidth:true,type:\"submit\",variant:\"contained\",sx:{mt:3,mb:2,height:50,background:\"#3855B3\"},children:\"Login\"})]})})]})]});};export default SignIn;","map":{"version":3,"names":["React","useState","createTheme","ThemeProvider","FormHelperText","Button","CssBaseline","TextField","Box","Container","Alert","Snackbar","axios","useNavigate","theme","SignIn","emailError","setEmailError","loginError","setloginError","navigate","onhandlePost","email","post","then","res","localStorage","setItem","headers","authorization","catch","handleSubmit","event","preventDefault","handleClose","reason","vertical","horizontal","width","marginTop","marginBottom","display","flexDirection","alignItems","mt","color","mb","height","background"],"sources":["/home/song/serp_front/src/views/signIn/index.js"],"sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  FormHelperText,\n  Button,\n  CssBaseline,\n  TextField,\n  Box,\n  Container,\n  Alert,\n  Snackbar,\n} from \"@mui/material\";\nimport axios from \"../../utils/axios\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nconst theme = createTheme();\n\nconst SignIn = () => {\n  const [emailError, setEmailError] = useState(\"\");\n  const [loginError, setloginError] = useState(false);\n  const navigate = useNavigate();\n\n  const onhandlePost = async (email) => {\n\n    await axios.post(\"/account/signIn\", {email: email })\n      .then((res) => {\n        localStorage.setItem('Authorization', res.headers.authorization);\n        navigate('/memu');\n      })\n      .catch(() => {\n        setloginError(true);\n      });\n  };\n\n  const handleSubmit = (event) => {\n     event.preventDefault();\n    // const email = new FormData(event.currentTarget);\n    // const emailRegex =\n    //   /([\\w-.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([\\w-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\n    // if (!emailRegex.test(email))\n    //   setEmailError(\"올바른 이메일 형식이 아닙니다.\");\n    // else setEmailError(\"\");\n\n    // if (emailRegex.test(email)) {\n    //   onhandlePost(email);\n    // }.\n    onhandlePost('levin.song@sothecode.com');\n  };\n\n  const handleClose = (reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setloginError(false);\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={loginError}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity=\"error\" sx={{ width: \"100%\" }}>\n          사용자등록이 되어있지 않습니다. 관리자에게 문의해주세요.\n        </Alert>\n      </Snackbar>\n      <Container component=\"main\" maxWidth=\"xm\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 40,\n            marginBottom: 50,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n          }}\n        >\n          <Box\n            component=\"form\"\n            onSubmit={handleSubmit}\n            noValidate\n            sx={{ mt: 1, width: 500 }}\n          >\n            <h1>Login</h1>\n            <TextField\n              className=\"login_email\"\n              margin=\"normal\"\n              fullWidth\n              required\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              error={emailError !== \"\" || false}\n            />\n            <FormHelperText style={{ color: \"#D32F2F\" }}>\n              {emailError}\n            </FormHelperText>\n            <Button\n              fullWidth\n              type=\"submit\"\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2, height: 50, background: \"#3855B3\" }}\n            >\n              Login\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  );\n};\n\nexport default SignIn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}