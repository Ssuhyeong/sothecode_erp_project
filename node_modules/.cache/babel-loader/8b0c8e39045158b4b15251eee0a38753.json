{"ast":null,"code":"var _jsxFileName = \"/home/song/serp_front/src/views/menu/CompanyInfoView/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from \"react\";\nimport { Box, Typography, Button } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport Modal from '@mui/material/Modal';\nimport Header from 'src/components/Header';\nimport SearchField from 'src/components/SearchField';\nimport CompanyTable from 'src/components/CompanyInfo/CompanyTable';\nimport CompanyDetails from 'src/components/CompanyInfo/CompanyDetails';\nimport CompanyModal from 'src/components/CompanyInfo/CompanyModal';\nimport axios from \"../../../utils/axios\";\nimport { useQuery } from 'react-query';\nimport { matchSorter } from 'match-sorter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  bgcolor: 'background.paper',\n  width: \"580px\",\n  height: \"669px\",\n  borderRadius: \"8px\",\n  backgroundColor: \"#fff\"\n};\n\nconst CompanyInfoView = () => {\n  _s();\n\n  const [searchValue, setSearchValue] = useState('');\n  const [selectedCompany, setSelectedCompany] = useState(-1); // const [viewData, setViewData] = useState([]);\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalData, setModalData] = useState();\n  const tableKeys = ['company_name', 'represent', 'corporate_number', 'description', 'director', 'position', 'email', 'phone_number', 'address'];\n  const query = useQuery(['companys'], async () => {\n    const {\n      data\n    } = await axios.post('/companys/info', {\n      company_type: '발주처'\n    });\n    return data.data;\n  });\n\n  const onAppendCompany = statue => {\n    setModalData(false); // insert_modal\n\n    setModalOpen(true); // 모달 창 띄우기\n  };\n\n  const onEditClick = idx => {\n    setModalData(query.data.find(element => {\n      return element.idx === idx;\n    })); // update_modal\n\n    setModalOpen(true); // 모달 창 띄우기\n\n    setSelectedCompany(idx);\n  }; // 보여질 데이터 정렬\n\n\n  const getCompanys = () => {\n    return matchSorter(query.data, searchValue, {\n      keys: tableKeys\n    });\n  }; // 테이블 클릭 시 옆에 보여질 디테일 정보\n\n\n  const getCompanyDetails = () => {\n    if (selectedCompany < 0) return null;\n    return query.data.find(element => {\n      return element.idx === selectedCompany;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: \"\\uC5C5\\uCCB4\\uC815\\uBCF4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), query.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Loading \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          sx: {\n            fontWeight: 600,\n            width: \"94px\",\n            height: \"37px\",\n            padding: \"9.5px 0px\",\n            fontSize: \"13px\",\n            \"& .MuiButton-startIcon\": {\n              margin: \"0px\"\n            }\n          },\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 28\n          }, this),\n          onClick: () => {\n            onAppendCompany();\n          },\n          children: \"\\uC5C5\\uCCB4\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          fontWeight: 600,\n          fontSize: \"12px\",\n          mt: \"19px\",\n          mb: \"10px\"\n        },\n        children: [\"\\uCD1D \\uC5C5\\uCCB4(\", getCompanys().length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CompanyTable, {\n          companys: getCompanys(),\n          setSelectedCompany: setSelectedCompany,\n          onEditClick: onEditClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CompanyDetails, {\n          detailsInfo: getCompanyDetails()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: modalOpen,\n        onClose: () => {\n          setModalOpen(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: modalStyle,\n          children: /*#__PURE__*/_jsxDEV(CompanyModal, {\n            data: modalData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CompanyInfoView, \"YPT1D3vNCoiuM9hNTNKBLx899b0=\", false, function () {\n  return [useQuery];\n});\n\n_c = CompanyInfoView;\nexport default CompanyInfoView;\n\nvar _c;\n\n$RefreshReg$(_c, \"CompanyInfoView\");","map":{"version":3,"names":["React","useState","Box","Typography","Button","AddIcon","Modal","Header","SearchField","CompanyTable","CompanyDetails","CompanyModal","axios","useQuery","matchSorter","modalStyle","position","top","left","transform","bgcolor","width","height","borderRadius","backgroundColor","CompanyInfoView","searchValue","setSearchValue","selectedCompany","setSelectedCompany","modalOpen","setModalOpen","modalData","setModalData","tableKeys","query","data","post","company_type","onAppendCompany","statue","onEditClick","idx","find","element","getCompanys","keys","getCompanyDetails","isLoading","display","alignItems","fontWeight","padding","fontSize","margin","mt","mb","length"],"sources":["/home/song/serp_front/src/views/menu/CompanyInfoView/index.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from \"react\";\r\n\r\nimport { Box, Typography, Button } from '@mui/material';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport Modal from '@mui/material/Modal';\r\n\r\nimport Header from 'src/components/Header';\r\nimport SearchField from 'src/components/SearchField'\r\nimport CompanyTable from 'src/components/CompanyInfo/CompanyTable';\r\nimport CompanyDetails from 'src/components/CompanyInfo/CompanyDetails';\r\nimport CompanyModal from 'src/components/CompanyInfo/CompanyModal';\r\n\r\n\r\nimport axios from \"../../../utils/axios\";\r\nimport { useQuery } from 'react-query';\r\nimport { matchSorter } from 'match-sorter'\r\n\r\n\r\nconst modalStyle = {\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  bgcolor: 'background.paper',\r\n  width: \"580px\",\r\n  height: \"669px\",\r\n  borderRadius: \"8px\",\r\n  backgroundColor: \"#fff\",\r\n};\r\n\r\nconst CompanyInfoView = () => {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [selectedCompany, setSelectedCompany] = useState(-1);\r\n\r\n  // const [viewData, setViewData] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalData, setModalData] = useState();\r\n\r\n\r\n  const tableKeys = ['company_name', 'represent', 'corporate_number', 'description', 'director', 'position', 'email', 'phone_number', 'address']\r\n\r\n\r\n  const query = useQuery(['companys'], async () => {\r\n    const { data } = await axios.post('/companys/info', { company_type: '발주처' });\r\n    return data.data\r\n  });\r\n\r\n\r\n  const onAppendCompany=(statue)=>{\r\n    setModalData(false); // insert_modal\r\n    setModalOpen(true); // 모달 창 띄우기\r\n  }\r\n\r\n  const onEditClick = (idx) => {\r\n    setModalData(query.data.find(element => {return element.idx === idx})) // update_modal\r\n    setModalOpen(true); // 모달 창 띄우기\r\n    setSelectedCompany(idx);\r\n  }\r\n\r\n  // 보여질 데이터 정렬\r\n  const getCompanys = () => {\r\n    return matchSorter(query.data, searchValue, { keys: tableKeys });\r\n  }\r\n\r\n  // 테이블 클릭 시 옆에 보여질 디테일 정보\r\n  const getCompanyDetails=()=>{\r\n    if(selectedCompany < 0)\r\n      return null;\r\n\r\n    return query.data.find(element => {return element.idx === selectedCompany})\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        업체정보\r\n      </Header>\r\n\r\n      {\r\n        query.isLoading ? (<div> Loading </div>) :\r\n          (\r\n            <Box sx={{ height: \"100%\" }}>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n                {/* <SearchField placeholder='업체명, 연락처 등 검색' companys={query.data} setViewData={setViewData} /> */}\r\n                <Button variant=\"contained\" \r\n                sx={{\r\n                  fontWeight: 600, width: \"94px\", height: \"37px\", padding: \"9.5px 0px\", fontSize: \"13px\",\r\n                  \"& .MuiButton-startIcon\": {\r\n                    margin: \"0px\"\r\n                  }\r\n                }}\r\n                startIcon={<AddIcon />}\r\n                onClick={()=>{onAppendCompany()}}>\r\n                  업체등록\r\n                </Button>\r\n              </Box>\r\n\r\n              <Typography\r\n                sx={{ fontWeight: 600, fontSize: \"12px\", mt: \"19px\", mb: \"10px\" }} >\r\n                총 업체({getCompanys().length})\r\n              </Typography>\r\n\r\n\r\n              <Box sx={{ display: \"flex\", height: '100%' }} >\r\n                <CompanyTable companys={getCompanys()} setSelectedCompany={setSelectedCompany} onEditClick={onEditClick} />\r\n                <CompanyDetails detailsInfo={getCompanyDetails()} />\r\n              </Box>\r\n\r\n              {/* 모달 */}\r\n              <Modal\r\n                open={modalOpen}\r\n                onClose={() => { setModalOpen(false) }}>\r\n                <Box sx={modalStyle}>\r\n                  <CompanyModal data={modalData} />\r\n                </Box>\r\n              </Modal>\r\n\r\n            </Box>\r\n          )\r\n      }\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nexport default CompanyInfoView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}